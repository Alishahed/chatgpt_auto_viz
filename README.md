# AI-Powered CSV Data Visualizer

This project is a Streamlit web application that allows users to upload CSV files, describe desired data visualizations in natural language, and then leverages the OpenAI API (GPT-3.5 Turbo) to automatically generate and display these plots using Plotly.

## Key Features

*   **CSV File Uploading:** Easily upload your datasets in CSV format.
*   **Natural Language Plot Description:** Describe the plots you want to visualize using plain English.
*   **AI-Powered Code Generation:** Utilizes OpenAI's GPT-3.5 Turbo to understand your description and generate the necessary Python code for plotting.
*   **Dynamic Plot Display:** Renders interactive plots directly in the web interface using Plotly Express.
*   **Automated Dataset Summarization:** Provides a quick summary of the uploaded dataset, also generated by the AI.

## How it Works

The application follows this workflow:

1.  **User Interaction:** The user uploads a CSV file through the Streamlit sidebar and types a description of the desired plot in the provided text area.
2.  **API Communication:** The main script (`dataset_describer.py`) sends two requests to the OpenAI API:
    *   One request to get a general description of the uploaded dataset based on its initial rows.
    *   A second, more detailed request that includes the dataset's initial rows, the user's plot description, and specific instructions to generate Python code for a Plotly Express visualization.
3.  **Code Generation & Execution:**
    *   The AI returns Python code designed to plot the data as requested.
    *   This generated code is then dynamically written to the `plotter.py` file.
4.  **Plot Display:** The `dataset_describer.py` script executes the code in `plotter.py`, which reads the CSV data (temporarily saved in the `datasets/` folder) and uses Plotly Express to create the visualization. The resulting plot is then displayed in the Streamlit interface.
5.  **Cleanup:** The temporarily stored CSV file is deleted after the plot is generated.

## Getting Started

Follow these instructions to set up and run the project locally:

1.  **Clone the Repository:**
    ```bash
    git clone <repository_url> # Replace <repository_url> with the actual URL
    cd <repository_directory>
    ```

2.  **Create a Virtual Environment (Recommended):**
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
    ```

3.  **Install Dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Set Up OpenAI API Key:**
    This application uses the OpenAI API and requires an API key. The key is loaded via Streamlit's secrets management.
    *   Create a file named `secrets.toml` in a `.streamlit` directory in your project's root folder (i.e., `.streamlit/secrets.toml`).
    *   Add your OpenAI API key to this file as follows:
        ```toml
        [open_ai_key]
        OPENAI_API_KEY = "your_actual_api_key_here"
        ```
    *   The application also expects certain ChatGPT queries to be defined in secrets. You may need to inspect `dataset_describer.py` (specifically the `st.secrets['chatgpt_queries']` calls) and add those to your `secrets.toml` file if they are not already present or if you wish to customize them. For example:
        ```toml
        [chatgpt_queries]
        datadescribe_query1 = "Your query part 1 here..."
        datadescribe_query2 = "Your query part 2 here..."
        # ... and so on for other queries used in the script.
        ```

5.  **Run the Streamlit Application:**
    ```bash
    streamlit run dataset_describer.py
    ```
    This will typically open the application in your default web browser.

## Dependencies

All required Python packages are listed in the `requirements.txt` file. You can install them using:

```bash
pip install -r requirements.txt
```
Key dependencies include Streamlit, Pandas, OpenAI, and Plotly.

## Note on `plotter.py`

Please be aware that the `plotter.py` file in this repository is dynamically generated and overwritten by the `dataset_describer.py` script each time a new plot is requested. Any manual changes to `plotter.py` will likely be lost during application runtime.

## Future Enhancements

Potential improvements and future ideas for this project include:

*   **Expanded Plotting Library Support:** Integrate options for different plotting libraries (e.g., Matplotlib, Seaborn) beyond Plotly Express.
*   **More Sophisticated AI Prompts:** Develop more nuanced prompts for the OpenAI API to handle a wider variety of plot requests and edge cases.
*   **Error Handling and Validation:** Implement robust error handling for CSV parsing, API request failures, and code generation issues.
*   **User Interface Improvements:** Enhance the Streamlit UI for better user experience, perhaps with more interactive options for plot customization post-generation.
*   **Support for More Data Sources:** Allow uploading data in other formats (e.g., Excel, JSON).
*   **Code Preview and Editing:** Allow users to preview the AI-generated plotting code and make minor edits before execution.
*   **Caching of Generated Plots:** Implement caching to avoid regenerating plots if the data and description haven't changed.
